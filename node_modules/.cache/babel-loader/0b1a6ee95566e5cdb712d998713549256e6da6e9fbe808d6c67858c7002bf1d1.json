{"ast":null,"code":"import _classCallCheck from\"/Users/ifloki/Documents/Dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ifloki/Documents/Dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(baseUrl,token){_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers={authorization:token,\"Content-Type\":\"application/json\"};}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(this._baseUrl+\"/users/me\",{method:\"GET\",headers:this._headers}).then(function(res){return _this._getResponseData(res);});}},{key:\"setUserInfo\",value:function setUserInfo(data){var _this2=this;return fetch(this._baseUrl+\"/users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(function(res){return _this2._getResponseData(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this3=this;return fetch(this._baseUrl+\"/cards\",{method:\"GET\",headers:this._headers}).then(function(res){return _this3._getResponseData(res);});}},{key:\"addCard\",value:function addCard(data){var _this4=this;return fetch(this._baseUrl+\"/cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify(data)}).then(function(res){return _this4._getResponseData(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this5=this;return fetch(this._baseUrl+\"/cards/\"+cardId,{method:\"DELETE\",headers:this._headers}).then(function(res){return _this5._getResponseData(res);});}},{key:\"putLike\",value:function putLike(cardId){var _this6=this;return fetch(this._baseUrl+\"/cards/\"+cardId+\"/likes\",{method:\"PUT\",headers:this._headers}).then(function(res){return _this6._getResponseData(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this7=this;return fetch(this._baseUrl+\"/cards/\"+cardId+\"/likes\",{method:\"DELETE\",headers:this._headers}).then(function(res){return _this7._getResponseData(res);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(!isLiked){return api.putLike(cardId);}return api.deleteLike(cardId);}},{key:\"setAvatar\",value:function setAvatar(data){var _this8=this;return fetch(this._baseUrl+\"/users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(function(res){return _this8._getResponseData(res);});}}]);return Api;}();// const api = new Api({\n//   url: `https://mesto.nomoreparties.co/v1/cohort-63`,\n//   headers: {\n//     authorization: 'cab53664-e4e9-4b11-babc-f697c128a306',\n//     'Content-Type': 'application/json',\n//   },\n// });\nvar api=new Api('https://mesto.nomoreparties.co/v1/cohort-63','cab53664-e4e9-4b11-babc-f697c128a306');export default api;","map":{"version":3,"names":["Api","baseUrl","token","_classCallCheck","_baseUrl","_headers","authorization","_createClass","key","value","_getResponseData","res","ok","Promise","reject","concat","status","json","getUserInfo","_this","fetch","method","headers","then","setUserInfo","data","_this2","body","JSON","stringify","getInitialCards","_this3","addCard","_this4","deleteCard","cardId","_this5","putLike","_this6","deleteLike","_this7","changeLikeCardStatus","isLiked","api","setAvatar","_this8"],"sources":["/Users/ifloki/Documents/Dev/mesto-react/src/utils/Api.js"],"sourcesContent":["\n\nclass Api {\n  constructor(baseUrl, token) {\n    this._baseUrl = baseUrl;\n    this._headers = {\n      authorization: token,\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserInfo(data) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  addCard(data) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (!isLiked) {\n      return api.putLike(cardId);\n    }\n      return api.deleteLike(cardId);\n  }\n\n  setAvatar(data) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n}\n\n// const api = new Api({\n//   url: `https://mesto.nomoreparties.co/v1/cohort-63`,\n//   headers: {\n//     authorization: 'cab53664-e4e9-4b11-babc-f697c128a306',\n//     'Content-Type': 'application/json',\n//   },\n// });\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-63', 'cab53664-e4e9-4b11-babc-f697c128a306');\n\nexport default api;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}