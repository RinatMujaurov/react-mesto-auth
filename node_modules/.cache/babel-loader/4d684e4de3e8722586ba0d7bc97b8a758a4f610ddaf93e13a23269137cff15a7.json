{"ast":null,"code":"var _jsxFileName = \"/Users/ifloki/Documents/Dev/react-mesto-auth/src/components/EditProfilePopup.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditProfilePopup(_ref) {\n  _s();\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser\n  } = _ref;\n  const currentUser = React.useContext(CurrentUserContext);\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setValues,\n    resetForm\n  } = useFormAndValidation();\n  React.useEffect(() => {\n    if (currentUser) {\n      setValues({\n        name: currentUser.name,\n        about: currentUser.about\n      });\n    }\n  }, [currentUser, setValues]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (isValid) {\n      onUpdateUser({\n        name: values.name,\n        about: values.about\n      });\n      resetForm();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    name: \"profile\",\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    isOpen: isOpen,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    buttonText: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"popup__fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"input-name\",\n          type: \"text\",\n          className: \"popup__input popup__input_data_name\",\n          name: \"name\",\n          placeholder: \"\\u0418\\u043C\\u044F\",\n          minLength: \"2\",\n          maxLength: \"40\",\n          required: true,\n          onChange: handleChange,\n          value: values.name || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"popup__input-error name-input-error\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"popup__fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"input-job\",\n          type: \"text\",\n          className: \"popup__input popup__input_data_about\",\n          name: \"about\",\n          placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n          minLength: \"2\",\n          maxLength: \"200\",\n          required: true,\n          onChange: handleChange,\n          value: values.about || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"popup__input-error about-input-error\",\n          children: errors.about\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfilePopup, \"XJNssWHFAYMLz91cUyjP0q8M6ZE=\", false, function () {\n  return [useFormAndValidation];\n});\n_c = EditProfilePopup;\nexport default EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","useFormAndValidation","jsxDEV","_jsxDEV","Fragment","_Fragment","EditProfilePopup","_ref","_s","isOpen","onClose","onUpdateUser","currentUser","useContext","values","handleChange","errors","isValid","setValues","resetForm","useEffect","name","about","handleSubmit","e","preventDefault","title","onSubmit","buttonText","children","className","id","type","placeholder","minLength","maxLength","required","onChange","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ifloki/Documents/Dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, setValues, resetForm } = useFormAndValidation();\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setValues({\n        name: currentUser.name,\n        about: currentUser.about\n      });\n    }\n  }, [currentUser, setValues]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isValid) {\n      onUpdateUser({\n        name: values.name,\n        about: values.about,\n      });\n\n      resetForm();\n    }\n  };\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n    >\n      <>\n        <fieldset className=\"popup__fieldset\">\n          <input\n            id=\"input-name\"\n            type=\"text\"\n            className=\"popup__input popup__input_data_name\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n            onChange={handleChange}\n            value={values.name || \"\"}\n          />\n          <span className=\"popup__input-error name-input-error\">\n            {errors.name}\n          </span>\n        </fieldset>\n        <fieldset className=\"popup__fieldset\">\n          <input\n            id=\"input-job\"\n            type=\"text\"\n            className=\"popup__input popup__input_data_about\"\n            name=\"about\"\n            placeholder=\"О себе\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            onChange={handleChange}\n            value={values.about || \"\"}\n          />\n          <span className=\"popup__input-error about-input-error\">\n            {errors.about}\n          </span>\n        </fieldset>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}