{"ast":null,"code":"import _slicedToArray from\"/Users/ifloki/Documents/Dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Card from\"./Card\";import api from\"../utils/Api\";import addCardButton from\"../images/Vector.svg\";import editAvatar from\"../images/profile-avatar-edit.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userDescription=_useState6[0],setUserDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userAvatar=_useState8[0],setUserAvatar=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),userInfo=_ref3[0],initialCards=_ref3[1];setUserName(userInfo.name);setUserDescription(userInfo.about);setUserAvatar(userInfo.avatar);setCards(initialCards);}).catch(function(error){console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-block\",onClick:onEditAvatar,children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-edit\",src:editAvatar,alt:\"edit avatar\"}),/*#__PURE__*/_jsx(\"img\",{style:{backgroundImage:\"url(\".concat(userAvatar,\")\")},src:userAvatar,alt:\"\",className:\"profile__avatar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__block\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:onAddPlace,children:/*#__PURE__*/_jsx(\"img\",{src:addCardButton,alt:\"\\u043A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0439\",className:\"profile__button-img\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{onCardClick:onCardClick,card:card},card._id);})})]});}export default Main;","map":{"version":3,"names":["React","useEffect","useState","Card","api","addCardButton","editAvatar","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_useState","_useState2","_slicedToArray","cards","setCards","_useState3","_useState4","userName","setUserName","_useState5","_useState6","userDescription","setUserDescription","_useState7","_useState8","userAvatar","setUserAvatar","Promise","all","getUserInfo","getInitialCards","then","_ref2","_ref3","userInfo","initialCards","name","about","avatar","catch","error","console","log","className","children","onClick","src","alt","style","backgroundImage","concat","type","map","card","_id"],"sources":["/Users/ifloki/Documents/Dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Card from \"./Card\";\nimport api from \"../utils/Api\";\nimport addCardButton from \"../images/Vector.svg\";\nimport editAvatar from \"../images/profile-avatar-edit.svg\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n  const [cards, setCards] = useState([]);\n  const [userName, setUserName] = useState(\"\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [userAvatar, setUserAvatar] = useState(\"\");\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        setUserName(userInfo.name);\n        setUserDescription(userInfo.about);\n        setUserAvatar(userInfo.avatar);\n        setCards(initialCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-block\" onClick={onEditAvatar}>\n          <img\n            className=\"profile__avatar-edit\"\n            src={editAvatar}\n            alt=\"edit avatar\"\n          />\n          <img\n            style={{ backgroundImage: `url(${userAvatar})` }}\n            src={userAvatar}\n            alt=\"\"\n            className=\"profile__avatar\"\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__block\">\n            <h1 className=\"profile__name\">{userName}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              onClick={onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__about\">{userDescription}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        >\n          <img\n            src={addCardButton}\n            alt=\"кнопка добавления изображений\"\n            className=\"profile__button-img\"\n          />\n        </button>\n      </section>\n      <ul className=\"elements\">\n        {cards.map((card) => (\n          <Card onCardClick={onCardClick} key={card._id} card={card} />\n        ))}\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}