{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this._getResponseData(res));\n  }\n  setUserInfo(data) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => this._getResponseData(res));\n  }\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this._getResponseData(res));\n  }\n  addCard(data) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => this._getResponseData(res));\n  }\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._getResponseData(res));\n  }\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(res => this._getResponseData(res));\n  }\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._getResponseData(res));\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    if (!isLiked) {\n      return api.putLike(cardId);\n    }\n    return api.deleteLike(cardId);\n  }\n  setAvatar(data) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => this._getResponseData(res));\n  }\n}\nconst api = new Api({\n  url: `https://mesto.nomoreparties.co/v1/cohort-63`,\n  headers: {\n    authorization: 'cab53664-e4e9-4b11-babc-f697c128a306',\n    'Content-Type': 'application/json'\n  }\n});\n// const api = new Api('https://mesto.nomoreparties.co/v1/cohort-63', 'cab53664-e4e9-4b11-babc-f697c128a306');\n\nexport default api;","map":{"version":3,"names":["Api","constructor","options","_url","url","_headers","headers","_getResponseData","res","ok","Promise","reject","status","json","getUserInfo","fetch","_baseUrl","method","then","setUserInfo","data","body","JSON","stringify","getInitialCards","addCard","deleteCard","cardId","putLike","deleteLike","changeLikeCardStatus","isLiked","api","setAvatar","authorization"],"sources":["/Users/ifloki/Documents/Dev/mesto-react/src/utils/Api.js"],"sourcesContent":["\n\nclass Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserInfo(data) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  addCard(data) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (!isLiked) {\n      return api.putLike(cardId);\n    }\n      return api.deleteLike(cardId);\n  }\n\n  setAvatar(data) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n}\n\nconst api = new Api({\n  url: `https://mesto.nomoreparties.co/v1/cohort-63`,\n  headers: {\n    authorization: 'cab53664-e4e9-4b11-babc-f697c128a306',\n    'Content-Type': 'application/json',\n  },\n});\n// const api = new Api('https://mesto.nomoreparties.co/v1/cohort-63', 'cab53664-e4e9-4b11-babc-f697c128a306');\n\nexport default api;\n\n"],"mappings":"AAEA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAACC,OAAO,EAAE;IACnB,IAAI,CAACC,IAAI,GAAGD,OAAO,CAACE,GAAG;IACvB,IAAI,CAACC,QAAQ,GAAGH,OAAO,CAACI,OAAO;EACjC;EAEAC,gBAAgBA,CAACC,GAAG,EAAE;IACpB,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACT,OAAOC,OAAO,CAACC,MAAM,CAAE,WAAUH,GAAG,CAACI,MAAO,EAAC,CAAC;IAClD;IACA,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;EACnB;EAEAC,WAAWA,CAAA,EAAG;IACZ,OAAOC,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,WAAW,EAAE;MACxCC,MAAM,EAAE,KAAK;MACbX,OAAO,EAAE,IAAI,CAACD;IAChB,CAAC,CAAC,CAACa,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAW,WAAWA,CAACC,IAAI,EAAE;IAChB,OAAOL,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,WAAW,EAAE;MACxCC,MAAM,EAAE,OAAO;MACfX,OAAO,EAAE,IAAI,CAACD,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC3B,CAAC,CAAC,CAACF,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAgB,eAAeA,CAAA,EAAG;IAChB,OAAOT,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,QAAQ,EAAE;MACrCC,MAAM,EAAE,KAAK;MACbX,OAAO,EAAE,IAAI,CAACD;IAChB,CAAC,CAAC,CAACa,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAiB,OAAOA,CAACL,IAAI,EAAE;IACZ,OAAOL,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,QAAQ,EAAE;MACrCC,MAAM,EAAE,MAAM;MACdX,OAAO,EAAE,IAAI,CAACD,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC3B,CAAC,CAAC,CAACF,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAkB,UAAUA,CAACC,MAAM,EAAE;IACjB,OAAOZ,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,SAAS,GAAGW,MAAM,EAAE;MAC/CV,MAAM,EAAE,QAAQ;MAChBX,OAAO,EAAE,IAAI,CAACD;IAChB,CAAC,CAAC,CAACa,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAoB,OAAOA,CAACD,MAAM,EAAE;IACd,OAAOZ,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,SAAS,GAAGW,MAAM,GAAG,QAAQ,EAAE;MAC1DV,MAAM,EAAE,KAAK;MACbX,OAAO,EAAE,IAAI,CAACD;IAChB,CAAC,CAAC,CAACa,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAqB,UAAUA,CAACF,MAAM,EAAE;IACjB,OAAOZ,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,SAAS,GAAGW,MAAM,GAAG,QAAQ,EAAE;MAC1DV,MAAM,EAAE,QAAQ;MAChBX,OAAO,EAAE,IAAI,CAACD;IAChB,CAAC,CAAC,CAACa,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;EAEAsB,oBAAoBA,CAACH,MAAM,EAAEI,OAAO,EAAE;IACpC,IAAI,CAACA,OAAO,EAAE;MACZ,OAAOC,GAAG,CAACJ,OAAO,CAACD,MAAM,CAAC;IAC5B;IACE,OAAOK,GAAG,CAACH,UAAU,CAACF,MAAM,CAAC;EACjC;EAEAM,SAASA,CAACb,IAAI,EAAE;IACd,OAAOL,KAAK,CAAC,IAAI,CAACC,QAAQ,GAAG,kBAAkB,EAAE;MAC/CC,MAAM,EAAE,OAAO;MACfX,OAAO,EAAE,IAAI,CAACD,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC3B,CAAC,CAAC,CAACF,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC9C;AACF;AAEA,MAAMwB,GAAG,GAAG,IAAIhC,GAAG,CAAC;EAClBI,GAAG,EAAG,6CAA4C;EAClDE,OAAO,EAAE;IACP4B,aAAa,EAAE,sCAAsC;IACrD,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AACF;;AAEA,eAAeF,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}