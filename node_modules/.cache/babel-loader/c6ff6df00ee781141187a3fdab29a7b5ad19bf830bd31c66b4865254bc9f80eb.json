{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import CurrentUserContext from'../contexts/CurrentUserContext';import useFormAndValidation from\"../hooks/useFormAndValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=React.useContext(CurrentUserContext);var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,setValues=_useFormAndValidation.setValues,resetForm=_useFormAndValidation.resetForm;React.useEffect(function(){if(currentUser){setValues({name:currentUser.name,about:currentUser.about});}},[currentUser,setValues]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(isValid){onUpdateUser({name:values.name,about:values.about});resetForm();}};return/*#__PURE__*/_jsx(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__fieldset\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input-name\",type:\"text\",className:\"popup__input popup__input_data_name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,onChange:handleChange,value:values.name||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__fieldset\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input-job\",type:\"text\",className:\"popup__input popup__input_data_about\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",required:true,onChange:handleChange,value:values.about||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error about-input-error\",children:errors.about})]})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","useFormAndValidation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","useContext","_useFormAndValidation","values","handleChange","errors","isValid","setValues","resetForm","useEffect","name","about","handleSubmit","e","preventDefault","title","onSubmit","buttonText","children","className","id","type","placeholder","minLength","maxLength","required","onChange","value"],"sources":["/Users/ifloki/Documents/Dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, setValues, resetForm } = useFormAndValidation();\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setValues({\n        name: currentUser.name,\n        about: currentUser.about\n      });\n    }\n  }, [currentUser, setValues]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isValid) {\n      onUpdateUser({\n        name: values.name,\n        about: values.about,\n      });\n\n      resetForm();\n    }\n  };\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n    >\n      <>\n        <fieldset className=\"popup__fieldset\">\n          <input\n            id=\"input-name\"\n            type=\"text\"\n            className=\"popup__input popup__input_data_name\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n            onChange={handleChange}\n            value={values.name || \"\"}\n          />\n          <span className=\"popup__input-error name-input-error\">\n            {errors.name}\n          </span>\n        </fieldset>\n        <fieldset className=\"popup__fieldset\">\n          <input\n            id=\"input-job\"\n            type=\"text\"\n            className=\"popup__input popup__input_data_about\"\n            name=\"about\"\n            placeholder=\"О себе\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            onChange={handleChange}\n            value={values.about || \"\"}\n          />\n          <span className=\"popup__input-error about-input-error\">\n            {errors.about}\n          </span>\n        </fieldset>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}